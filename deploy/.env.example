# =============================================================================
# Docker Compose 环境变量配置示例
# =============================================================================
# 复制此文件为 .env 并根据实际情况修改配置值
# cp .env.example .env
# =============================================================================
#
# 注意：此文件中的环境变量用于 Docker Compose 解析 docker-compose.yml 时使用
# 这些变量主要用于端口映射配置，与 backend/.env 中的容器内环境变量不同
#
# Docker Compose 会自动读取同目录下的 .env 文件来解析 docker-compose.yml 中的变量
# =============================================================================

# -----------------------------------------------------------------------------
# 服务端口映射配置（宿主机端口）
# -----------------------------------------------------------------------------
# 这些端口是 Docker 将容器端口映射到宿主机的端口
# 如果宿主机端口被占用，可以修改这些值以避免端口冲突

# 后端服务端口映射
BACKEND_PORT_HOST=8000
BACKEND_HOST=localhost  # 后端服务主机名（用于前端连接，容器内访问时使用 "backend"）

# 前端服务端口映射
FRONTEND_PORT_HOST=3000
FRONTEND_HOSTNAME=localhost  # 前端服务主机名（用于后端 CORS 配置）
# =============================================================================
# 前后端集成配置 (Integration) - 极度重要 ⚠️
# =============================================================================
# 必须为用户在浏览器中访问前端的真实公网绝对 URL，结尾不要加斜杠！
# 错误示范: http://frontend:3000 或 /api 或 https://domain.com/
# 影响功能: OAuth 登录回调、密码重置邮件的内链、工作区共享链接拼接、健康检查
FRONTEND_URL=http://localhost:3000

# 数据库端口映射
POSTGRES_PORT_HOST=5432

# Redis 端口映射（必需）
# 注意：Redis 是系统必需组件，用于缓存和会话管理
# 后端服务依赖 Redis，必须启动 Redis 服务才能正常运行
REDIS_PORT_HOST=6379

# MCP Server 端口映射
DEMO_MCP_SERVER_PORT=8001
SCANNER_MCP_PORT=8002
JEB_MCP_PORT=8008
MCP_PORT_3=8003
MCP_PORT_4=8004
MCP_PORT_5=8005

# -----------------------------------------------------------------------------
# 构建配置（可选）
# -----------------------------------------------------------------------------
# pip 镜像源配置（默认使用清华大学镜像源，可切换到国内镜像）
PIP_INDEX_URL=https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple
UV_INDEX_URL=https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple
